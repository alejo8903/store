<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Lista de Pedidos</title>

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous">

    </head>
    <body>
        <script>
            console.log("th:text ='${mensaje}'");
        </script>
        <div th:fragment="content">
            <div class="container mt-4">
                <h2>Generar pedido</h2>
                <div class=" mt-4">
                    <h4 class="fs-1.4">Seleccionar Producto</h4>
                    <form id="productForm">
                        <div class="row">
                            <div class="col-md-3 position-relative">
                                <label for="nombre"
                                    class="form-label">Nombre:</label>
                                <input type="text" id="nombre"
                                    class="form-control mb-2"
                                    placeholder="Buscar producto..."
                                    oninput="buscarProductos(); verificarLista();"
                                    autocomplete="off">
                                <div id="result-wrapper"
                                    class="position-absolute d-none">
                                    <ul id="suggested-list"
                                        class="list-unstyled p-0">
                                    </ul>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <label for="color"
                                    class="form-label">Color:</label>
                                <input type="text" class="form-control mb-2"
                                    id="color"
                                    placeholder="Color" readonly>
                            </div>

                            <div class="col-md-3">
                                <label for="tipoFlor" class="form-label">Tipo de
                                    Flor:</label>
                                <input type="number" id="tipoFlor"
                                    class="form-control mb-2"
                                    placeholder="Tipo de flor" readonly>
                            </div>

                            <div class="col-md-3">
                                <label for="disponible"
                                    class="form-label">Disponibilidad:</label>
                                <input type="text" class="form-control mb-2"
                                    id="disponible"
                                    placeholder="disponible" readonly>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <label for="precioVenta"
                                    class="form-label">Precio venta:</label>
                                <input type="number" id="precioVenta"
                                    class="form-control mb-2"
                                    placeholder="Precio de venta"
                                    step="0.01" readonly>
                            </div>

                            <div class="col-md-4">
                                <label for="cantidadDisponible"
                                    class="form-label">Cantidad
                                    disponible:</label>
                                <input type="number" class="form-control mb-2"
                                    id="cantidadDisponible"
                                    placeholder="Cantidad disponible" readonly>
                            </div>
                            <div class="col-md-4">
                                <label for="cantidad"
                                    class="form-label">cantidad a
                                    comprar:</label>
                                <input type="number" id="cantidad"
                                    class="form-control mb-2"
                                    placeholder="Cantidad a comprar"
                                    step="0.01">
                            </div>

                        </div>

                        <div class="row">

                            <div class="col-md-4 order-md-last">
                                <button id="submitButton"
                                    class="btn btn-primary mb-2"
                                    type="submit">Agregar al Carrito</button>
                            </div>
                        </div>
                        <input type="hidden" id="productoId">
                    </form>
                </div>

            </div>
            <div id="card-cart"
                class="container my-4 p-3 rounded border d-none">
                <!-- accordion cliente -->
                <form id="formPedido">
                    <div class="accordion mb-1" id="clienteInfoAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header"
                                id="clienteInfoHeading">
                                <button class="accordion-button" type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#clienteInfoCollapse"
                                    aria-expanded="true"
                                    aria-controls="clienteInfoCollapse">
                                    Información del Cliente
                                </button>
                            </h2>
                            <div id="clienteInfoCollapse"
                                class="accordion-collapse collapse "
                                aria-labelledby="clienteInfoHeading"
                                data-bs-parent="#clienteInfoAccordion">
                                <div class="accordion-body">
                                    <input type="hidden" id="clienteId">
                                    <div class="row">
                                        <div class="col-md-4 position-relative">
                                            <label for="documento"
                                                class="form-label">Documento:</label>
                                            <input type="text" id="documento"
                                                class="form-control mb-2"
                                                placeholder="Buscar Cliente..."
                                                oninput="buscarClientes(); verificarListaCliente();"
                                                autocomplete="off" required>
                                            <div id="result-wrapper-customer"
                                                class="position-absolute d-none">
                                                <ul id="suggested-list-customer"
                                                    class="list-unstyled p-0"></ul>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="nombreClinete"
                                                class="form-label">Nombre:</label>
                                            <input type="text"
                                                class="form-control mb-2"
                                                id="nombreClinete"
                                                placeholder="Nombre" required>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="direccion"
                                                class="form-label">Dirección:</label>
                                            <input type="text"
                                                class="form-control mb-2"
                                                id="direccion"
                                                placeholder="Dirección"
                                                required>
                                        </div>
                                    </div>
                                    <div class="row justify-content-center">
                                        <div class="col-md-4">
                                            <label for="telefono"
                                                class="form-label">Teléfono:</label>
                                            <input type="tel" id="telefono"
                                                class="form-control mb-2"
                                                placeholder="Teléfono" required>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="email"
                                                class="form-label">Email:</label>
                                            <input type="email"
                                                class="form-control mb-2"
                                                id="email" placeholder="Correo">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion mb-1" id="pedidoInfoAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="pedidoInfoHeading">
                                <button class="accordion-button" type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#pedidoInfoCollapse"
                                    aria-expanded="true"
                                    aria-controls="pedidoInfoCollapse">
                                    Información del pedido
                                </button>
                            </h2>
                            <div id="pedidoInfoCollapse"
                                class="accordion-collapse collapse "
                                aria-labelledby="pedidoInfoHeading"
                                data-bs-parent="#pedidoInfoAccordion">
                                <div class="accordion-body">
                                    <div class="row justify-content-center">
                                        <div class="col-md-4">
                                            <label for="ocasion"
                                                class="form-label">Ocasión:</label>
                                            <input type="text" id="ocasion"
                                                class="form-control mb-2"
                                                placeholder="Ocasión" required>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="FechaEntrega"
                                                class="form-label">Fecha de
                                                entrega:</label>
                                            <input type="date" id="FechaEntrega"
                                                class="form-control mb-2"
                                                placeholder="Fecha de Entrega"
                                                required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4 class="fs-1.4">Productos Seleccionados</h4>
                        <div class="row mt-3">
                            <div class="col-md-2">N.Ref</div>
                            <div class="col-md-2">nombre</div>
                            <div class="col-md-2">cantidad</div>
                            <div class="col-md-2">precio unitario</div>
                            <div class="col-md-2">precio total</div>
                            <div class="col-md-2">Accion</div>
                        </div>
                        <div class="row mt-3 " id="cart-list">
                            <!-- Aquí se mostrarán los productos seleccionados -->
                        </div>
                    </div>

                    <div class="row justify-content-center mt-3">
                        <div class="col-md-6 text-center">
                            <button type="submit"
                                class="btn btn-primary">Realizar Pedido</button>
                        </div>
                    </div>
                </form>
            </div>

            <script
                src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
                crossorigin="anonymous"></script>
        </body>
    </html>
