<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="content">
    <div class="container mt-4">
        <h2>Inventario</h2>
        <!-- Formulario para ingresar nuevo producto -->
        <div class="mb-4">
            <h4>Ingresar Nuevo Producto</h4>
            <form th:action="@{/inventario}" th:object="${producto}" method="post">
                <div class="row">
                    <div class="col-md-3">
                        <input type="text" class="form-control mb-2" th:field="*{nombre}" placeholder="Nombre">
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control mb-2" th:field="*{color}" placeholder="Color">
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control mb-2" th:field="*{variedad}" placeholder="Variedad">
                    </div>
                    <div class="col-md-3">
                        <input type="number" class="form-control mb-2" th:field="*{cantidadDisponible}" placeholder="Cantidad disponible">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <input type="number" step="0.01" class="form-control mb-2" th:field="*{precioCompra}" placeholder="Precio de compra">
                    </div>
                    <div class="col-md-4">
                        <input type="number" step="0.01" class="form-control mb-2" th:field="*{precioVenta}" placeholder="Precio de venta">
                    </div>
                    <div class="col-md-4">
                        <select class="form-control mb-2" th:field="*{tipoFlor.id}">
                            <option th:each="tipoFlor : ${tiposFlor}"
                                    th:value="${tipoFlor.id}"
                                    th:title="${tipoFlor.descripcion}"
                                    th:text="${tipoFlor.nombre}"></option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <button class="btn btn-primary mb-2" type="submit">Agregar Producto</button>
                    </div>
                </div>
            </form>
        </div>

        <!-- Buscador de producto -->
        <div class="mb-4">
            <h4>Buscar Producto</h4>
            <input type="text" class="form-control" placeholder="Buscar por tipo, color, variedad, etc.">
        </div>

        <!-- Tabla para mostrar el inventario -->
        <div class="row">
            <div class="col-md-12">
                <table class="table">
                    <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Color</th>
                        <th>Variedad</th>
                        <th>Cantidad</th>
                        <th>Precio de Compra</th>
                        <th>Precio de Venta</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="producto : ${productos}">
                        <td th:text="${producto.nombre}"></td>
                        <td th:text="${producto.color}"></td>
                        <td th:text="${producto.variedad}"></td>
                        <td th:text="${producto.cantidadDisponible}"></td>
                        <td th:text="${producto.precioCompra}"></td>
                        <td th:text="${producto.precioVenta}"></td>
                        <td>
                            <form th:action="@{/inventario/eliminar/{id}(id=${producto.id})}" method="get" style="display: inline;">
                                <button class="btn btn-danger" type="submit">Eliminar</button>
                            </form>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</body>
</html>
